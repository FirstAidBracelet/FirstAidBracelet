<!DOCTYPE html>
<html lang="en">
<head>
  <title>Main Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="/stylesheets/mainPageStyles.css">	
</head>

<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="https://firstaidbracelet.herokuapp.com/">First Aid Bracelet</a>
    </div>
    <ul class="nav navbar-nav">
      <li><a href="https://firstaidbracelet.herokuapp.com/mainPage"> mainPageFilter</a></li>
    </ul>
  </div>
</nav>  

<div class="row" > </div>
<div class="row" >" "  </div>
<div class="row" >" "  </div>
<div class="row" >
<div class="col-md-2"><center>
<div class="vertical-menu pull-right" >
<center>
<h4>Display By</h4>  

<div id="divisionDropdown" class="dropdown">
    <ul class="dropdown-menu">
	<% divisions.forEach(function(dvsn) { %> 
     <li onclick="selectDivision(' <%= dvsn %> ')" ><a href="#"> <%= dvsn %></a></li>
     <% }); %>  
    </ul>
  </div>

 <button class="btn btn-success btn-md" rel="popover" data-popover-content="#divisionDropdown" >Division</button>

  

    <h1></h1>
   <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Unit 
    <span class="caret-right"></span></button>
    <ul class="dropdown-menu">
      <% units.forEach(function(unt) { %> 
     <li onclick="selectUnit(' <%= unt %> ')" ><a href="#"> <%= unt %></a></li>
     <% }); %>  
    </ul>
  </div>
    <h1></h1>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Location 
    <span class="caret-right"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">Some location</a></li>
      <li><a href="#">Some other locaion</a></li>
    </ul>
  </div>
  <h1></h1>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Status 
    <span class="caret-right"></span></button>
    <ul class="dropdown-menu">
     <li onclick="selectStatus('Light')"><a href="#">Light</a></li>
      <li onclick="selectStatus('Average')"><a href="#">Average</a></li>
      <li onclick="selectStatus('Heavy')"><a href="#">Heavy</a></li>
      <li onclick="selectStatus('K.I.A')"><a href="#">K.I.A</a></li>
    </ul>
  </div>
  <h1></h1>
   <a href="#">DISPLAY</a>
  <h1></h1>
   <a href="#">Clear all</a>
  <center>
  <center>
</div>
</div><div class="col-md-10"><center><h1></h1><center></div>
</div>

<div class="row">
<div class="col-md-2"></div>
<div class="col-md-8"> <div class="container">
  <h2>Chosen Filters</h2>
  <ul id="divisionId" class="list-inline" ></ul>  
     </ul>  
   </div>
</div>
</div> 
</div>
<div class="col-md-2"></div>
</div>

</body>

<script >

var divisions = [];
var units = [];
var locations = [];
var injuryStatuses = [];

$(function(){
    $('[rel="popover"]').popover({
        container: 'body',
        html: true,
        content: function () {
            var clone = $($(this).data('popover-content')).clone(true).removeClass('dropdown');
            return clone;
        }
    }).click(function(e) {
        e.preventDefault();
    });
});

function selectDivision(division) {
    for (i = 0; i < divisions.length; i++) {
		if (division === divisions[i] ){
			return;
		}
	}
	divisions.push(division);
    var myNodelist = document.getElementsByTagName("ul");
    var node = document.createElement("LI");
    var textnode = document.createTextNode(division);
    node.appendChild(textnode);
    node.style.backgroundColor = "yellow";
    document.getElementById("divisionId").appendChild(node);
}
function selectUnit(unit) {
    for (i = 0; i < units.length; i++) {
		if (unit === units[i] ){
			return;
		}
	}
	units.push(unit);
    var myNodelist = document.getElementsByTagName("ul");
    var node = document.createElement("LI");
    var textnode = document.createTextNode(unit);
    node.appendChild(textnode);
    node.style.backgroundColor = "#a64dff";
    document.getElementById("divisionId").appendChild(node);
}
function selectStatus(status) {
    for (i = 0; i < injuryStatuses.length; i++) {
		if (status === injuryStatuses[i] ){
			return;
		}
	}
	injuryStatuses.push(status);
    var myNodelist = document.getElementsByTagName("ul");
    var node = document.createElement("LI");
    var textnode = document.createTextNode(status);
    node.appendChild(textnode);

    switch (status) {
        case "K.I.A":
            node.style.backgroundColor = "red";
            break;
        case "Heavy":
            node.style.backgroundColor = " #ff0066";
            break;
        case "Average":
            node.style.backgroundColor = "#ff7733";
            break;
        case "Light":
            node.style.backgroundColor = "whilte";
            break;
    }
    document.getElementById("divisionId").appendChild(node);
}

</script>

</html>